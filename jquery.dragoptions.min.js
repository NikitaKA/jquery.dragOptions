/*
 Info:
  Plugin: dragOptions
  Version: 1.1
  Author: Nikita Korobochkin
  E-mail: nikita.ak.85@gmail.com
*/
!function(a){a.fn.extend({dragOptions:function(b){var c={highlight:"â–º"},d=a.extend(c,b);return this.each(function(){var b={initial:[],hover:-1,current:-1},c=d,e=a(this);a(e).on("mousedown","option",function(d){b.initial.length||d.ctrlKey||d.shiftKey||(f(),b.initial=[],b.initialObjects=[],a("option",e).each(function(){b.initial.push({key:a(this).val(),text:a(this).text()}),b.initialObjects.push(this)}),a(this).text(c.highlight+a(this).text()),b.drag=a(this).data("index"),b.current=b.drag)}).on("mousemove","option",function(){if(!b.initial.length)return!1;if(b.hover=a(this).data("index"),b.current!=b.hover){b.current=b.hover;for(var d=b.initial.slice(0),f=[],g=d.splice(b.drag,1),h=0,i=d.length;h<=i;h++)h!=b.current?f.push(d.shift()):f.push(g[0]);a("option",e).each(function(d){d==b.current?a(this).text(c.highlight+f[d].text):a(this).text(f[d].text)}),a("option",e).removeAttr("selected").eq(b.current).attr("selected","selected"),(c.onDrag||a.noop).call(e)}}).on("mouseup","option",function(){if(!b.initial.length)return!1;a("option",e).each(function(c){a(this).text(b.initial[c].text)}),e.html("");for(var d=b.initialObjects.splice(b.drag,1),g=0,h=b.initialObjects.length;g<=h;g++)g!=b.current?e.append(b.initialObjects.shift()):e.append(d[0]);a("option",e).removeAttr("selected").eq(b.current).attr("selected","selected"),f(),b.hover=-1,b.initial=[],b.initialObjects=[],(c.onChange||a.noop).call(e)});var f=function(){a("option",e).each(function(b){a(this).data("index",b)})}})}})}(jQuery);