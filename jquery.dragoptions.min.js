(function(c){c.fn.extend({dragOptions:function(t){var i={highlight:"â–º"};var e=c.extend(i,t);var h=null;var u=false;c(document.body).on("mouseup",function(){u=false});return this.each(function(){var r={initial:[],hover:-1,current:-1};var a=e;var l=c(this);c(l).on("mousedown","option",function(t){if(!u&&!r.initial.length&&!t.ctrlKey&&!t.shiftKey){u=true}}).on("mousemove","option",function(){if(u&&!r.initial.length){s();r.initial=[];r.initialObjects=[];c("option",l).each(function(){r.initial.push({key:c(this).val(),text:c(this).text()});r.initialObjects.push(this)});c(this).text(a.highlight+c(this).text());r.drag=c(this).data("index");r.current=r.drag;h=this}if(!u&&!r.initial.length)return false;r.hover=c(this).data("index");if(r.current!=r.hover){r.current=r.hover;var t=r.initial.slice(0);var i=[];var e=t.splice(r.drag,1);for(var n=0,o=t.length;n<=o;n++){if(n!=r.current){i.push(t.shift())}else{i.push(e[0])}}c("option",l).each(function(t){if(t==r.current){c(this).text(a.highlight+i[t].text)}else{c(this).text(i[t].text)}});c("option",l).removeAttr("selected").eq(r.current).attr("selected","selected");(a.onDrag||c.noop).call(l)}}).on("mouseup","option",function(){if(!r.initial.length){u=false;return false}c("option",l).each(function(t){c(this).text(r.initial[t].text)});l.html("");var t=r.initialObjects.splice(r.drag,1);for(var i=0,e=r.initialObjects.length;i<=e;i++){if(i!=r.current){l.append(r.initialObjects.shift())}else{l.append(t[0])}}c(l)[0].selectedIndex=r.current;s();r.hover=-1;r.initial=[];r.initialObjects=[];h=null;(a.onChange||c.noop).call(l)}).on("mouseleave",function(){c(h).trigger("mouseup")}).on("mousemove",function(){if(!u&&h){c(h).trigger("mouseup")}});var s=function(){c("option",l).each(function(t){c(this).data("index",t)})}})}})})(jQuery);